<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    * {
        margin: 0;
        padding: 0;
    }

    ul {
        list-style: none;
    }

    a {
        text-decoration: none;
        color: #333;
    }

    .m_menu {
        width: 200px;
        margin: 20px auto;
        text-align: center;
    }

    .m_menu>li>a {
        display: block;
        height: 36px;
        background-color: #390;
        line-height: 36px;
        border-top: 1px dotted #fff;
        color: #fff;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    .m_menu>li>a:hover {
        background-color: #2a7a00;
    }

    .m_menu .sub {
        height: 0;
        overflow: hidden;
        opacity: 0;
        transition: height 0.4s ease, opacity 0.3s ease;
    }

    .m_menu .sub li {
        background-color: #cf9;
    }

    .m_menu .sub li a {
        height: 36px;
        line-height: 36px;
        color: #222;
        transition: background-color 0.2s ease;
    }

    .m_menu .sub li a:hover {
        background-color: #cf09;
    }
</style>

<body>
    <ul class="m_menu">
        <li>
            <a href="#">회사소개</a>
            <ul class="sub">
                <li><a href="#">submenu1</a></li>
                <li><a href="#">submenu2</a></li>
                <li><a href="#">submenu3</a></li>
            </ul>
        </li>
        <li>
            <a href="#">제품소개</a>
            <ul class="sub">
                <li><a href="#">submenu1</a></li>
                <li><a href="#">submenu2</a></li>
                <li><a href="#">submenu3</a></li>
            </ul>
        </li>
        <li>
            <a href="#">커뮤니티</a>
            <ul class="sub">
                <li><a href="#">submenu1</a></li>
                <li><a href="#">submenu2</a></li>
                <li><a href="#">submenu3</a></li>
            </ul>
        </li>
        <li>
            <a href="#">다운로드</a>
            <ul class="sub">
                <li><a href="#">submenu1</a></li>
                <li><a href="#">submenu2</a></li>
                <li><a href="#">submenu3</a></li>
            </ul>
        </li>
    </ul>
    <script>
        const mainMenus = document.querySelectorAll(".m_menu > li > a");

        mainMenus.forEach(menu => {
            menu.addEventListener("click", function (e) {
                e.preventDefault(); // a태그 기본 이동 막기

                const sub = this.nextElementSibling;

                // 모든 서브메뉴 닫기
                document.querySelectorAll(".sub").forEach(item => {
                    if (item !== sub) {
                        item.style.height = "0";
                        item.style.opacity = "0";
                    }
                });

                // 현재 메뉴 토글
                if (sub.style.height && sub.style.height !== "0px") {
                    // 닫기
                    sub.style.height = "0";
                    sub.style.opacity = "0";
                } else {
                    // 열기
                    sub.style.height = sub.scrollHeight + "px";
                    sub.style.opacity = "1";
                }
            });
        });
    </script>

</body>

</html>